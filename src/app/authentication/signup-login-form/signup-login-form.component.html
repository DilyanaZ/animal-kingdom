<div>
    <h3 *ngIf="!isRegistered">
        Please enter the form below to use our site!
    </h3>
    <h3 *ngIf="isRegistered">
        Now You can log in!
    </h3>
</div>
<div>
    <h4 *ngIf="subscriptionMessage"> {{ subscriptionMessage }}</h4>
</div>
<div class="container space-top">
    <!-- <form [formGroup]="profileForm" autocomplete="off" (ngSubmit)="saveProfile(profileForm.value)"> -->
    <form [formGroup]="profileForm" autocomplete="off">
        <div class="form-group row" *ngIf="!isRegistered">
            <label for="name" class="col-sm-2 col-form-label">Name</label>
            <div class="col-sm-10 input-group" [ngClass]="{'error':!validateName()}">
                <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                <input type="text" class="form-control" id="name" placeholder="Name...." formControlName="name">
                <em *ngIf="!validateName() && profileForm.controls['name'].errors.required">Required!</em>
                <em *ngIf="!validateName() && profileForm.controls['name'].errors.pattern">Must start with a letter!</em>
            </div>
        </div>
        <div class="form-group row">
            <label for="email" class="col-sm-2 col-form-label">Email</label>
            <div class="col-sm-10 input-group" [ngClass]="{'error':!validateEmail()}">
                <span class="input-group-addon"><i class="glyphicon glyphicon-envelope"></i></span>
                <input type="email" class="form-control" id="email" placeholder="Email" formControlName="email">
                <em *ngIf="!validateEmail() && profileForm.controls['email'].errors.required">Required!</em>
                <em *ngIf="!validateEmail() && profileForm.controls['email'].errors.pattern">Not a valid email address!</em>
            </div>
        </div>
        <div class="form-group row">
            <label for="pass" class="col-sm-2 col-form-label">Password</label>
            <div class="col-sm-10 input-group" [ngClass]="{'error':!validatePassword()}">
                <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                <input type="password" class="form-control" id="pass" placeholder="Password" formControlName="password">
                <em *ngIf="!validatePassword() && profileForm.controls['password'].errors.required">Required!</em>
                <em *ngIf="!validatePassword() && profileForm.controls['password'].errors.minlength">Password must be at least 4 characters!</em>
            </div>
        </div>
        <button type="button" (click)="signUp(profileForm.value)" class="btn btn-secondary" [disabled]="profileForm.invalid" [hidden]="isRegistered"> Sign up </button>
        <a routerLink='/' class="btn btn-outline-secondary m-1">Cancel</a>
        <button type="button" (click)="login(profileForm.value)" class="btn btn-secondary" [hidden]="!isRegistered"> Login </button>
    </form>
    <!-- <p>
        <span>Already have an account?&nbsp;</span>
        <a routerLink="/login">Log in!</a>
    </p> -->
</div>